{
  "associatedLayout": "setting",
  "name": "sound",
  "events": [
    {
      "type": "BuiltinCommonInstructions::Link",
      "include": {
        "includeConfig": 0
      },
      "target": "load-save"
    },
    {
      "type": "BuiltinCommonInstructions::Standard",
      "conditions": [
        {
          "type": {
            "value": "DepartScene"
          },
          "parameters": [
            ""
          ]
        }
      ],
      "actions": [
        {
          "type": {
            "value": "SetStringVariable"
          },
          "parameters": [
            "current_level.scene",
            "=",
            "CurrentSceneName()"
          ]
        },
        {
          "type": {
            "value": "PanelSpriteSlider::PanelSpriteSlider::SetLabelShown"
          },
          "parameters": [
            "sfx_slider",
            "",
            ""
          ]
        },
        {
          "type": {
            "value": "PanelSpriteSlider::PanelSpriteSlider::SetLabelShown"
          },
          "parameters": [
            "bgm_slider",
            "",
            ""
          ]
        }
      ],
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "inverted": true,
                "value": "MusicPlaying"
              },
              "parameters": [
                "",
                "2"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "PlayMusicCanal"
              },
              "parameters": [
                "",
                "assets\\BGM\\BGM - Menu Loop 2.mp3",
                "2",
                "yes",
                "0",
                ""
              ]
            }
          ],
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "Wait"
                  },
                  "parameters": [
                    "0.2"
                  ]
                },
                {
                  "type": {
                    "value": "FadeMusicVolume"
                  },
                  "parameters": [
                    "",
                    "2",
                    "100*(game.setting.bgm/100)",
                    "3.5"
                  ]
                }
              ]
            },
            {
              "folded": true,
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "StringVariable"
                  },
                  "parameters": [
                    "current_level.scene",
                    "=",
                    "\"brick-game\""
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "StopMusicCanal"
                  },
                  "parameters": [
                    "",
                    "2"
                  ]
                }
              ],
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "StringVariable"
                      },
                      "parameters": [
                        "current_level.level_area",
                        "=",
                        "\"gurun\""
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "PlayMusicCanal"
                      },
                      "parameters": [
                        "",
                        "assets\\BGM\\BGM - Level Gurun.mp3",
                        "2",
                        "yes",
                        "60*(game.setting.bgm/100)",
                        "1"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "StringVariable"
                      },
                      "parameters": [
                        "current_level.level_area",
                        "=",
                        "\"hutan\""
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "PlayMusicCanal"
                      },
                      "parameters": [
                        "",
                        "assets\\BGM\\BGM - Level Hutan.wav",
                        "2",
                        "yes",
                        "60*(game.setting.bgm/100)",
                        "1"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "StringVariable"
                      },
                      "parameters": [
                        "current_level.level_area",
                        "=",
                        "\"berapi\""
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "PlayMusicCanal"
                      },
                      "parameters": [
                        "",
                        "assets\\BGM\\BGM - Level Magma.mp3",
                        "2",
                        "yes",
                        "60*(game.setting.bgm/100)",
                        "1"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "FadeMusicVolume"
                      },
                      "parameters": [
                        "",
                        "2",
                        "100*(game.setting.bgm/100)",
                        "1.5"
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "BuiltinCommonInstructions::Standard",
      "conditions": [
        {
          "type": {
            "inverted": true,
            "value": "PanelSpriteSlider::PanelSpriteSlider::Value"
          },
          "parameters": [
            "sfx_slider",
            "=",
            "sfx_slider.MinValue()",
            ""
          ]
        }
      ],
      "actions": [
        {
          "type": {
            "value": "AnimatableCapability::AnimatableBehavior::SetName"
          },
          "parameters": [
            "sfx_icon",
            "Animation",
            "=",
            "\"unmute\""
          ]
        },
        {
          "type": {
            "value": "SetBooleanObjectVariable"
          },
          "parameters": [
            "sfx_icon",
            "is_mute",
            "False",
            ""
          ]
        }
      ]
    },
    {
      "folded": true,
      "type": "BuiltinCommonInstructions::Standard",
      "conditions": [
        {
          "type": {
            "value": "PanelSpriteSlider::PanelSpriteSlider::Value"
          },
          "parameters": [
            "sfx_slider",
            "=",
            "sfx_slider.MinValue()",
            ""
          ]
        }
      ],
      "actions": [
        {
          "type": {
            "value": "AnimatableCapability::AnimatableBehavior::SetName"
          },
          "parameters": [
            "sfx_icon",
            "Animation",
            "=",
            "\"mute\""
          ]
        },
        {
          "type": {
            "value": "SetBooleanObjectVariable"
          },
          "parameters": [
            "sfx_icon",
            "is_mute",
            "True",
            ""
          ]
        }
      ],
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BuiltinCommonInstructions::Once"
              },
              "parameters": []
            }
          ],
          "actions": [
            {
              "type": {
                "value": "ShakeObject::ShakeObject_PositionAngleScale::ShakeObject_PositionAngleScale"
              },
              "parameters": [
                "sfx_icon",
                "ShakeObject_PositionAngleScale",
                "0.5",
                "5",
                "5",
                "5",
                "5",
                "0.08",
                "",
                ""
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "BuiltinCommonInstructions::Standard",
      "conditions": [
        {
          "type": {
            "inverted": true,
            "value": "PanelSpriteSlider::PanelSpriteSlider::Value"
          },
          "parameters": [
            "bgm_slider",
            "=",
            "bgm_slider.MinValue()",
            ""
          ]
        }
      ],
      "actions": [
        {
          "type": {
            "value": "AnimatableCapability::AnimatableBehavior::SetName"
          },
          "parameters": [
            "bgm_icon",
            "Animation",
            "=",
            "\"unmute\""
          ]
        },
        {
          "type": {
            "value": "SetBooleanObjectVariable"
          },
          "parameters": [
            "bgm_icon",
            "is_mute",
            "False",
            ""
          ]
        }
      ]
    },
    {
      "folded": true,
      "type": "BuiltinCommonInstructions::Standard",
      "conditions": [
        {
          "type": {
            "value": "PanelSpriteSlider::PanelSpriteSlider::Value"
          },
          "parameters": [
            "bgm_slider",
            "=",
            "bgm_slider.MinValue()",
            ""
          ]
        }
      ],
      "actions": [
        {
          "type": {
            "value": "AnimatableCapability::AnimatableBehavior::SetName"
          },
          "parameters": [
            "bgm_icon",
            "Animation",
            "=",
            "\"mute\""
          ]
        },
        {
          "type": {
            "value": "SetBooleanObjectVariable"
          },
          "parameters": [
            "bgm_icon",
            "is_mute",
            "True",
            ""
          ]
        }
      ],
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BuiltinCommonInstructions::Once"
              },
              "parameters": []
            }
          ],
          "actions": [
            {
              "type": {
                "value": "ShakeObject::ShakeObject_PositionAngleScale::ShakeObject_PositionAngleScale"
              },
              "parameters": [
                "bgm_icon",
                "ShakeObject_PositionAngleScale",
                "0.5",
                "5",
                "5",
                "5",
                "5",
                "0.08",
                "",
                ""
              ]
            },
            {
              "type": {
                "value": "PlaySoundCanal"
              },
              "parameters": [
                "",
                "assets\\SFX\\Menu & UI\\Button.wav",
                "1",
                "",
                "80*(SoundChannelVolume(1)/100)",
                "3"
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "BuiltinCommonInstructions::Standard",
      "conditions": [
        {
          "type": {
            "value": "ButtonStates::ButtonFSM::IsClicked"
          },
          "parameters": [
            "btn_reset",
            "ButtonFSM",
            ""
          ]
        }
      ],
      "actions": [
        {
          "type": {
            "value": "PanelSpriteSlider::PanelSpriteSlider::SetValue"
          },
          "parameters": [
            "sfx_slider",
            "=",
            "default_value_slider",
            ""
          ]
        },
        {
          "type": {
            "value": "PanelSpriteSlider::PanelSpriteSlider::SetValue"
          },
          "parameters": [
            "bgm_slider",
            "=",
            "default_value_slider",
            ""
          ]
        },
        {
          "type": {
            "value": "SetNumberVariable"
          },
          "parameters": [
            "game.setting.sfx",
            "=",
            "sfx_slider.Value()"
          ]
        },
        {
          "type": {
            "value": "SetNumberVariable"
          },
          "parameters": [
            "game.setting.bgm",
            "=",
            "bgm_slider.Value()"
          ]
        }
      ]
    },
    {
      "type": "BuiltinCommonInstructions::Standard",
      "conditions": [
        {
          "type": {
            "value": "PanelSpriteSlider::PanelSpriteSlider::IsBeingDragged"
          },
          "parameters": [
            "sfx_slider",
            ""
          ]
        }
      ],
      "actions": [
        {
          "type": {
            "value": "SetNumberVariable"
          },
          "parameters": [
            "game.setting.sfx",
            "=",
            "sfx_slider.Value()"
          ]
        },
        {
          "type": {
            "value": "ModVolumeSoundCanal"
          },
          "parameters": [
            "",
            "1",
            "=",
            "sfx_slider.Value()"
          ]
        }
      ]
    },
    {
      "type": "BuiltinCommonInstructions::Standard",
      "conditions": [
        {
          "type": {
            "value": "PanelSpriteSlider::PanelSpriteSlider::IsBeingDragged"
          },
          "parameters": [
            "bgm_slider",
            ""
          ]
        }
      ],
      "actions": [
        {
          "type": {
            "value": "SetNumberVariable"
          },
          "parameters": [
            "game.setting.bgm",
            "=",
            "bgm_slider.Value()"
          ]
        },
        {
          "type": {
            "value": "ModVolumeMusicCanal"
          },
          "parameters": [
            "",
            "2",
            "=",
            "bgm_slider.Value()"
          ]
        }
      ]
    },
    {
      "type": "BuiltinCommonInstructions::Standard",
      "conditions": [
        {
          "type": {
            "value": "ButtonStates::ButtonFSM::IsClicked"
          },
          "parameters": [
            "sfx_icon",
            "ButtonFSM",
            ""
          ]
        }
      ],
      "actions": [
        {
          "type": {
            "value": "SetBooleanObjectVariable"
          },
          "parameters": [
            "sfx_icon",
            "is_mute",
            "Toggle",
            ""
          ]
        },
        {
          "type": {
            "value": "ShakeObject::ShakeObject_PositionAngleScale::ShakeObject_PositionAngleScale"
          },
          "parameters": [
            "sfx_icon",
            "ShakeObject_PositionAngleScale",
            "0.5",
            "5",
            "5",
            "5",
            "5",
            "0.08",
            "",
            ""
          ]
        },
        {
          "type": {
            "value": "PlaySoundCanal"
          },
          "parameters": [
            "",
            "assets\\SFX\\Menu & UI\\Button.wav",
            "1",
            "",
            "70*(game.setting.sfx/100)",
            "3"
          ]
        }
      ],
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BooleanObjectVariable"
              },
              "parameters": [
                "sfx_icon",
                "is_mute",
                "",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "AnimatableCapability::AnimatableBehavior::SetName"
              },
              "parameters": [
                "sfx_icon",
                "Animation",
                "=",
                "\"unmute\""
              ]
            },
            {
              "type": {
                "value": "PanelSpriteSlider::PanelSpriteSlider::SetValue"
              },
              "parameters": [
                "sfx_slider",
                "=",
                "sfx_icon.last_audio",
                ""
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BooleanObjectVariable"
              },
              "parameters": [
                "sfx_icon",
                "is_mute",
                "True",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetNumberObjectVariable"
              },
              "parameters": [
                "sfx_icon",
                "last_audio",
                "=",
                "sfx_slider.Value()"
              ]
            },
            {
              "type": {
                "value": "AnimatableCapability::AnimatableBehavior::SetName"
              },
              "parameters": [
                "sfx_icon",
                "Animation",
                "=",
                "\"mute\""
              ]
            },
            {
              "type": {
                "value": "PanelSpriteSlider::PanelSpriteSlider::SetValue"
              },
              "parameters": [
                "sfx_slider",
                "=",
                "0",
                ""
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [],
          "actions": [
            {
              "type": {
                "value": "SetNumberVariable"
              },
              "parameters": [
                "game.setting.sfx",
                "=",
                "sfx_slider.Value()"
              ]
            },
            {
              "type": {
                "value": "SetNumberVariable"
              },
              "parameters": [
                "game.setting.sfx_last",
                "=",
                "sfx_icon.last_audio"
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "BuiltinCommonInstructions::Standard",
      "conditions": [
        {
          "type": {
            "value": "ButtonStates::ButtonFSM::IsClicked"
          },
          "parameters": [
            "bgm_icon",
            "ButtonFSM",
            ""
          ]
        }
      ],
      "actions": [
        {
          "type": {
            "value": "SetBooleanObjectVariable"
          },
          "parameters": [
            "bgm_icon",
            "is_mute",
            "Toggle",
            ""
          ]
        },
        {
          "type": {
            "value": "ShakeObject::ShakeObject_PositionAngleScale::ShakeObject_PositionAngleScale"
          },
          "parameters": [
            "bgm_icon",
            "ShakeObject_PositionAngleScale",
            "0.5",
            "5",
            "5",
            "5",
            "5",
            "0.08",
            "",
            ""
          ]
        }
      ],
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BooleanObjectVariable"
              },
              "parameters": [
                "bgm_icon",
                "is_mute",
                "",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "AnimatableCapability::AnimatableBehavior::SetName"
              },
              "parameters": [
                "bgm_icon",
                "Animation",
                "=",
                "\"unmute\""
              ]
            },
            {
              "type": {
                "value": "PanelSpriteSlider::PanelSpriteSlider::SetValue"
              },
              "parameters": [
                "bgm_slider",
                "=",
                "bgm_icon.last_audio",
                ""
              ]
            },
            {
              "type": {
                "value": "PlaySoundCanal"
              },
              "parameters": [
                "",
                "assets\\SFX\\Menu & UI\\Button.wav",
                "1",
                "",
                "70*(game.setting.sfx/100)",
                "3"
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BooleanObjectVariable"
              },
              "parameters": [
                "bgm_icon",
                "is_mute",
                "True",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetNumberObjectVariable"
              },
              "parameters": [
                "bgm_icon",
                "last_audio",
                "=",
                "bgm_slider.Value()"
              ]
            },
            {
              "type": {
                "value": "AnimatableCapability::AnimatableBehavior::SetName"
              },
              "parameters": [
                "bgm_icon",
                "Animation",
                "=",
                "\"mute\""
              ]
            },
            {
              "type": {
                "value": "PanelSpriteSlider::PanelSpriteSlider::SetValue"
              },
              "parameters": [
                "bgm_slider",
                "=",
                "0",
                ""
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [],
          "actions": [
            {
              "type": {
                "value": "SetNumberVariable"
              },
              "parameters": [
                "game.setting.bgm",
                "=",
                "bgm_slider.Value()"
              ]
            },
            {
              "type": {
                "value": "SetNumberVariable"
              },
              "parameters": [
                "game.setting.bgm_last",
                "=",
                "bgm_icon.last_audio"
              ]
            }
          ]
        }
      ]
    },
    {
      "disabled": true,
      "type": "BuiltinCommonInstructions::Standard",
      "conditions": [
        {
          "type": {
            "value": "StringVariable"
          },
          "parameters": [
            "current_level.scene",
            "!=",
            "\"home\""
          ]
        }
      ],
      "actions": [
        {
          "type": {
            "value": "ModVolumeSoundCanal"
          },
          "parameters": [
            "",
            "1",
            "=",
            "sfx_slider.Value()"
          ]
        },
        {
          "type": {
            "value": "ModVolumeMusicCanal"
          },
          "parameters": [
            "",
            "2",
            "=",
            "bgm_slider.Value()"
          ]
        }
      ]
    }
  ]
}